{
  "title": "Chess clock karim + dad version",
  "description": "",
  "tags": [],
  "activeEditor": "markup",
  "markup": {
    "language": "html",
    "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Chess Clock</title>\n  </head>\n  <body>\n    <div id=\"settings\">\n      <hr />\n      <h1>chess clock</h1>\n      <hr />\n      <form id=\"form\">\n        <label>Minutes</label><br />\n        <input\n          type=\"number\"\n          id=\"minutes\"\n          inputmode=\"numeric\"\n          value=\"1\"\n          required\n        /><br />\n        <label>Seconds</label><br />\n        <input\n          type=\"number\"\n          id=\"seconds\"\n          inputmode=\"numeric\"\n          value=\"0\"\n          required\n        /><br />\n        <label>Bonus time</label><br />\n        <input type=\"number\" id=\"ext\" inputmode='numeric' /><br />\n        <button id=\"submit\" type=\"submit\">Go to clock</button>\n      </form>\n    </div>\n    <div class=\"app\">\n      <div class=\"players\" id=\"a\"></div>\n      <div class=\"players\" id=\"b\"></div>\n    </div>\n    <div id=\"result\">\n      <div id=\"message\">Player A wins</div>\n    </div>\n  </body>\n</html>\n"
  },
  "style": {
    "language": "css",
    "content": "body,\r\nhtml {\r\n  padding: 0;\r\n  margin: 0;\r\n  background-color: #555;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.players {\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  justify-content: center;\r\n  border: 1px solid white;\r\n  font-size: 100px;\r\n  cursor: pointer;\r\n  background-color: rgb(0, 200, 0);\r\n}\r\n.app {\r\n  display: none;\r\n  flex: wrap;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  color: white;\r\n}\r\n#form {\r\n  margin: 1em 2em;\r\n  color: white;\r\n  border: 2px solid black;\r\n  padding: 2rem;\r\n  border-radius: 1em;\r\n  background-color: #666;\r\n}\r\n#a {\r\n  rotate: -180deg;\r\n}\r\nlabel {\r\n  font-size: larger;\r\n  color: white;\r\n}\r\ninput {\r\n  border-radius: 5px;\r\n  background-color: #888;\r\n  margin-bottom: 20px;\r\n  width: 80%;\r\n  padding: 3px;\r\n  color: white;\r\n}\r\nbutton {\r\n  display: block;\r\n  margin: auto;\r\n  background-color: #555;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\nh1 {\r\n  color: white;\r\n  text-transform: capitalize;\r\n  display: block;\r\n  text-align: center;\r\n}\r\n\r\n#result {\r\n  position: absolute;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: none;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 0;\r\n}\r\n\r\n#message {\r\n  color: white;\r\n  background-color: #555;\r\n  font-size: x-large;\r\n  display: block;\r\n  margin: auto;\r\n  border: 2px solid white;\r\n  padding: 1em;\r\n  border-radius: 5px;\r\n}\r\n.flipped {\r\n  rotate: 180deg;\r\n}\r\n@keyframes color {\r\n\r\n}"
  },
  "script": {
    "language": "javascript",
    "content": "let totalTime = 0;\r\nlet extT = 0;\r\n\r\nlet times = {\r\n  a: totalTime,\r\n  b: totalTime,\r\n};\r\n\r\nlet intervalA;\r\nlet intervalB;\r\nlet activePlayer;\r\n\r\nconst buttonA = document.getElementById('a');\r\nconst buttonB = document.getElementById('b');\r\nconst app = document.querySelector('.app');\r\nconst settings = document.querySelector('#settings');\r\nconst result = document.querySelector('#result');\r\nconst message = document.querySelector('#message');\r\nconst form = document.querySelector('#form');\r\nconst submit = document.querySelector('#submit');\r\nconst secs = document.querySelector('#seconds');\r\nconst mins = document.querySelector('#minutes');\r\nconst ext = document.querySelector('#ext');\r\n\r\nform.onsubmit = function (event) {\r\n  event.preventDefault();\r\n  totalTime += Number(mins.value * 60) + Number(secs.value);\r\n  settings.style.display = 'none';\r\n  app.style.display = 'flex';\r\n  buttonA.innerText = showInMinutes(totalTime);\r\n  buttonB.innerText = showInMinutes(totalTime);\r\n  times.a = totalTime;\r\n  times.b = totalTime;\r\n};\r\n\r\nfunction timerA() {\r\n  if (!activePlayer) {\r\n    activePlayer = 'a';\r\n    timerB();\r\n    return;\r\n  }\r\n  if (activePlayer === 'a') {\r\n    return;\r\n  }\r\n  activePlayer = 'a';\r\n  times.a += Number(ext.value);\r\n  buttonA.innerText = showInMinutes(times.a); // time\r\n  clearInterval(intervalA);\r\n  intervalB = setInterval(() => {\r\n    if (times.b === 0) {\r\n      buttonB.style.backgroundColor = `rgb(255,0,0)`\r\n      showMessage('ðŸŽ‰ðŸŽŠ Player A WINS!! ðŸŽŠðŸŽ‰');\r\n    } else {\r\n      times.b -= 1; // time\r\n      buttonB.innerText = showInMinutes(times.b); // time\r\n      buttonB.style.backgroundColor = `rgb(${255-times.b/totalTime*255},200,0)`\r\n    }\r\n  }, 1000);\r\n}\r\nfunction timerB() {\r\n  if (!activePlayer) {\r\n    activePlayer = 'b';\r\n    timerA();\r\n    return;\r\n  }\r\n  if (activePlayer === 'b') {\r\n    return;\r\n  }\r\n  activePlayer = 'b';\r\n  times.b += Number(ext.value);\r\n  buttonB.innerText = showInMinutes(times.b); // time\r\n  clearInterval(intervalB);\r\n  intervalA = setInterval(() => {\r\n    if (times.a === 0) {\r\n      showMessage('ðŸŽ‰ðŸŽŠ Player B WINS!! ðŸŽŠðŸŽ‰');\r\n      buttonA.style.backgroundColor = `rgb(255,0,0)`\r\n    } else {\r\n      times.a -= 1; // time\r\n      buttonA.innerText = showInMinutes(times.a); // time\r\n      buttonA.style.backgroundColor = `rgb(${255-times.a/totalTime*255},200,0)`\r\n    }\r\n  }, 1000);\r\n  // i honestly dont understand anything but atleast the clock works\r\n}\r\n\r\nfunction showMessage(msg) {\r\n  result.style.display = 'flex';\r\n  message.innerText = msg;\r\n  if(msg === 'ðŸŽ‰ðŸŽŠ Player A WINS!! ðŸŽŠðŸŽ‰'){\r\n    message.classList.add('flipped')\r\n  }\r\n}\r\n\r\nfunction showInMinutes(sec) {\r\n  const minutes = Math.floor(sec/60);\r\n  let minutesStr = String(minutes);\r\n  if (minutesStr.length === 1) {\r\n    minutesStr = '0' + minutesStr;\r\n  }\r\n  const remainingSec = sec % 60;\r\n  let remainingSecStr = String(remainingSec);\r\n  if (remainingSecStr.length === 1) {\r\n    remainingSecStr = '0' + remainingSecStr;\r\n  }\r\n  return `${minutesStr} : ${remainingSecStr}`;\r\n}\r\n\r\ndocument.getElementById('a').onclick = () => {\r\n  timerA();\r\n};\r\ndocument.getElementById('b').onclick = () => {\r\n  timerB();\r\n};\r\n"
  },
  "stylesheets": [],
  "scripts": [],
  "cssPreset": "",
  "processors": [],
  "customSettings": {},
  "imports": {},
  "types": {},
  "tests": {
    "language": "typescript",
    "content": ""
  },
  "version": "9"
}