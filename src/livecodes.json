{
  "title": "Chess clock karim + dad version",
  "description": "",
  "tags": [],
  "activeEditor": "style",
  "markup": {
    "language": "html",
    "content": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Chess Clock</title>\n  </head>\n  <body>\n    <div id=\"settings\">\n      <hr />\n      <h1>chess clock</h1>\n      <hr />\n      <form id=\"form\">\n        <label>Minutes</label><br />\n        <input\n          type=\"number\"\n          id=\"minutes\"\n          inputmode=\"numeric\"\n          value=\"1\"\n          required\n        /><br />\n        <label>Seconds</label><br />\n        <input\n          type=\"number\"\n          id=\"seconds\"\n          inputmode=\"numeric\"\n          value=\"0\"\n          required\n        /><br />\n        <label>Bonus time</label><br />\n        <input type=\"number\" id=\"ext\" inputmode=\"numeric\" /><br />\n        <button id=\"submit\" type=\"submit\">Go to clock</button>\n      </form>\n    </div>\n    <div class=\"app\">\n      <div class=\"tools\">\n        <!-- resign button -->\n        <?xml version=\"1.0\" encoding=\"utf-8\"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\n        <svg\n          id=\"flag1\"\n          width=\"800px\"\n          height=\"800px\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M5 21V3.90002C5 3.90002 5.875 3 8.5 3C11.125 3 12.875 4.8 15.5 4.8C18.125 4.8 19 3.9 19 3.9V14.7C19 14.7 18.125 15.6 15.5 15.6C12.875 15.6 11.125 13.8 8.5 13.8C5.875 13.8 5 14.7 5 14.7\"\n            stroke=\"#000000\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n\n        <!-- pause button -->\n        <?xml version=\"1.0\" encoding=\"utf-8\"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\n        <svg\n          id=\"pause\"\n          width=\"800px\"\n          height=\"800px\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M8 5V19M16 5V19\"\n            stroke=\"#000000\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n\n       <!-- play -->\n\n        <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n        <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\n        <svg\n          id='play'\n          style='display:none;'\n          width=\"800px\"\n          height=\"800px\"\n          viewBox=\"-3 0 28 28\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"\n        >\n          <title>play</title>\n          <desc>Created with Sketch Beta.</desc>\n          <defs></defs>\n          <g\n            id=\"Page-1\"\n            stroke=\"none\"\n            stroke-width=\"1\"\n            fill=\"none\"\n            fill-rule=\"evenodd\"\n            sketch:type=\"MSPage\"\n          >\n            <g\n              id=\"Icon-Set\"\n              sketch:type=\"MSLayerGroup\"\n              transform=\"translate(-417.000000, -569.000000)\"\n              fill=\"#000000\"\n            >\n              <path\n                d=\"M418.983,594.247 L418.983,571.722 L436.831,582.984 L418.983,594.247 L418.983,594.247 Z M438.204,581.536 L419.394,569.279 C418.278,568.672 417,568.943 417,570.917 L417,595.052 C417,597.012 418.371,597.361 419.394,596.689 L438.204,584.433 C439.288,583.665 439.258,582.242 438.204,581.536 L438.204,581.536 Z\"\n                id=\"play\"\n                sketch:type=\"MSShapeGroup\"\n              ></path>\n            </g>\n          </g>\n        </svg>\n\n        <!-- home button -->\n        <?xml version=\"1.0\" encoding=\"utf-8\"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\n        <svg\n          id=\"home\"\n          width=\"800px\"\n          height=\"800px\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M22 22L2 22\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n          <path\n            d=\"M2 11L10.1259 4.49931C11.2216 3.62279 12.7784 3.62279 13.8741 4.49931L22 11\"\n            stroke-width=\"1.5\"\n            stroke-linecap=\"round\"\n          />\n          <path\n            opacity=\"0.5\"\n            d=\"M15.5 5.5V3.5C15.5 3.22386 15.7239 3 16 3H18.5C18.7761 3 19 3.22386 19 3.5V8.5\"\n            stroke-width=\"1.5\"\n            stroke-linecap=\"round\"\n          />\n          <path d=\"M4 22V9.5\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n          <path d=\"M20 22V9.5\" stroke-width=\"1.5\" stroke-linecap=\"round\" />\n          <path\n            opacity=\"0.5\"\n            d=\"M15 22V17C15 15.5858 15 14.8787 14.5607 14.4393C14.1213 14 13.4142 14 12 14C10.5858 14 9.87868 14 9.43934 14.4393C9 14.8787 9 15.5858 9 17V22\"\n            stroke-width=\"1.5\"\n          />\n          <path\n            opacity=\"0.5\"\n            d=\"M14 9.5C14 10.6046 13.1046 11.5 12 11.5C10.8954 11.5 10 10.6046 10 9.5C10 8.39543 10.8954 7.5 12 7.5C13.1046 7.5 14 8.39543 14 9.5Z\"\n            stroke-width=\"1.5\"\n          />\n        </svg>\n\n        <!-- resign button 2 -->\n\n        <?xml version=\"1.0\" encoding=\"utf-8\"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->\n        <svg\n          id=\"flag2\"\n          width=\"800px\"\n          height=\"800px\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M5 21V3.90002C5 3.90002 5.875 3 8.5 3C11.125 3 12.875 4.8 15.5 4.8C18.125 4.8 19 3.9 19 3.9V14.7C19 14.7 18.125 15.6 15.5 15.6C12.875 15.6 11.125 13.8 8.5 13.8C5.875 13.8 5 14.7 5 14.7\"\n            stroke=\"#000000\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n      </div>\n\n      <div class=\"timers\">\n        <div class=\"players\" id=\"a\"></div>\n        <div class=\"players\" id=\"b\"></div>\n      </div>\n    </div>\n    <div id=\"result\">\n      <div id=\"message\"></div>\n    </div>\n  </body>\n</html>\n"
  },
  "style": {
    "language": "css",
    "content": "body,\r\nhtml {\r\n  padding: 0;\r\n  margin: 0;\r\n  background-color: #555;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.players {\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  justify-content: center;\r\n  border: 1px solid white;\r\n  font-size: 100px;\r\n  cursor: pointer;\r\n  background-color: rgb(0, 200, 0);\r\n}\r\n.app {\r\n  display: none;\r\n  height: 100vh;\r\n  color: white;\r\n}\r\n#form {\r\n  margin: 1em 2em;\r\n  color: white;\r\n  border: 2px solid black;\r\n  padding: 2rem;\r\n  border-radius: 1em;\r\n  background-color: #666;\r\n}\r\n#a {\r\n  rotate: -180deg;\r\n}\r\nlabel {\r\n  font-size: larger;\r\n  color: white;\r\n}\r\ninput {\r\n  border-radius: 5px;\r\n  background-color: #888;\r\n  margin-bottom: 20px;\r\n  width: 80%;\r\n  padding: 3px;\r\n  color: white;\r\n}\r\nbutton {\r\n  display: block;\r\n  margin: auto;\r\n  background-color: #555;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\nh1 {\r\n  color: white;\r\n  text-transform: capitalize;\r\n  display: block;\r\n  text-align: center;\r\n}\r\n\r\n#result {\r\n  position: absolute;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: none;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 0;\r\n}\r\n\r\n#message {\r\n  color: white;\r\n  background-color: #555;\r\n  font-size: x-large;\r\n  display: block;\r\n  margin: auto;\r\n  border: 2px solid white;\r\n  padding: 1em;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n}\r\n.flipped {\r\n  rotate: 180deg;\r\n}\r\n#message button {\r\n  width: 5rem;\r\n  padding: 5px;\r\n  margin: 1em;\r\n  border-radius: 3px;\r\n  display: inline-block;\r\n  background-color: #777;\r\n}\r\n.tools {\r\n  width: 70px;\r\n  background-color: #888;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 2em 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.timers {\r\n  display: flex;\r\n  flex: wrap;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n}\r\n.tools svg {\r\n  width: 50px;\r\n  height: 50px;\r\n  rotate: -90deg;\r\n  cursor: pointer;\r\n  border: 2px solid #333;\r\n  border-radius: 3px;\r\n  background-color: #666;\r\n  stroke: black;\r\n}\r\n\r\n.tools svg:hover {\r\n  background-color: #777;\r\n}\r\n\r\n.tools svg:active {\r\n  transform: scale(0.97);\r\n}\r\n"
  },
  "script": {
    "language": "javascript",
    "content": "let totalTime = 0;\r\nlet extT = 0;\r\n\r\nlet times = {\r\n  a: totalTime,\r\n  b: totalTime,\r\n};\r\n\r\nlet intervalA;\r\nlet intervalB;\r\nlet activePlayer;\r\nlet paused = false;\r\n\r\nconst buttonA = document.getElementById('a');\r\nconst buttonB = document.getElementById('b');\r\nconst app = document.querySelector('.app');\r\nconst settings = document.querySelector('#settings');\r\nconst result = document.querySelector('#result');\r\nconst message = document.querySelector('#message');\r\nconst form = document.querySelector('#form');\r\nconst secs = document.querySelector('#seconds');\r\nconst mins = document.querySelector('#minutes');\r\nconst ext = document.querySelector('#ext');\r\nconst html = document.querySelector('html');\r\nconst flag1 = document.querySelector('#flag1');\r\nconst flag2 = document.querySelector('#flag2');\r\nconst home = document.querySelector('#home');\r\nconst pause = document.querySelector('#pause');\r\nconst play = document.querySelector('#play');\r\n\r\nform.onsubmit = function (event) {\r\n  event.preventDefault();\r\n  totalTime += Number(mins.value * 60) + Number(secs.value);\r\n  settings.style.display = 'none';\r\n  app.style.display = 'flex';\r\n  buttonA.innerText = showInMinutes(totalTime);\r\n  buttonB.innerText = showInMinutes(totalTime);\r\n  times.a = totalTime;\r\n  times.b = totalTime;\r\n};\r\n\r\nfunction timerA() {\r\n  if (!activePlayer) {\r\n    activePlayer = 'a';\r\n    timerB();\r\n    return;\r\n  }\r\n  if (activePlayer === 'a') {\r\n    return;\r\n  }\r\n  activePlayer = 'a';\r\n  times.a += Number(ext.value);\r\n  buttonA.innerText = showInMinutes(times.a); // time\r\n  clearInterval(intervalA);\r\n  intervalB = setInterval(() => {\r\n    if (times.b === 0) {\r\n      buttonB.style.backgroundColor = `rgb(255,0,0)`;\r\n      showMessage('🎉🎊 Player A WINS!! 🎊🎉');\r\n    } else {\r\n      times.b -= 1; // time\r\n      buttonB.innerText = showInMinutes(times.b); // time\r\n      buttonB.style.backgroundColor = `rgb(${\r\n        255 - (times.b / totalTime) * 255\r\n      },200,0)`;\r\n    }\r\n  }, 1000);\r\n}\r\nfunction timerB() {\r\n  if (!activePlayer) {\r\n    activePlayer = 'b';\r\n    timerA();\r\n    return;\r\n  }\r\n  if (activePlayer === 'b') {\r\n    return;\r\n  }\r\n  activePlayer = 'b';\r\n  times.b += Number(ext.value);\r\n  buttonB.innerText = showInMinutes(times.b); // time\r\n  clearInterval(intervalB);\r\n  intervalA = setInterval(() => {\r\n    if (times.a === 0) {\r\n      showMessage('🎉🎊 Player B WINS!! 🎊🎉');\r\n      buttonA.style.backgroundColor = `rgb(255,0,0)`;\r\n    } else {\r\n      times.a -= 1; // time\r\n      buttonA.innerText = showInMinutes(times.a); // time\r\n      buttonA.style.backgroundColor = `rgb(${\r\n        255 - (times.a / totalTime) * 255\r\n      },200,0)`;\r\n    }\r\n  }, 1000);\r\n  // i honestly dont understand anything but atleast the clock works\r\n}\r\n\r\nfunction showMessage(msg) {\r\n  result.style.display = 'flex';\r\n  message.innerText = msg;\r\n  if (msg === '🎉🎊 Player A WINS!! 🎊🎉') {\r\n    message.classList.add('flipped');\r\n  }\r\n}\r\n\r\nfunction showConfirm(msg, fn) {\r\n  result.style.display = 'flex';\r\n  const content = `\r\n  <div>${msg}</div>\r\n  <div><button id=\"yes\">Yes</button><button id=\"no\">Cancel</button></div>\r\n  `;\r\n  message.innerHTML = content;\r\n  document.querySelector('#yes').onclick = () => {\r\n    result.style.display = 'none';\r\n    message.innerHTML = '';\r\n    fn();\r\n  };\r\n  document.querySelector('#no').onclick = () => {\r\n    result.style.display = 'none';\r\n    message.innerHTML = '';\r\n  };\r\n}\r\n\r\nfunction showInMinutes(sec) {\r\n  const minutes = Math.floor(sec / 60);\r\n  let minutesStr = String(minutes);\r\n  if (minutesStr.length === 1) {\r\n    minutesStr = '0' + minutesStr;\r\n  }\r\n  const remainingSec = sec % 60;\r\n  let remainingSecStr = String(remainingSec);\r\n  if (remainingSecStr.length === 1) {\r\n    remainingSecStr = '0' + remainingSecStr;\r\n  }\r\n  return `${minutesStr} : ${remainingSecStr}`;\r\n}\r\n\r\ndocument.getElementById('a').onclick = () => {\r\n  timerA();\r\n};\r\ndocument.getElementById('b').onclick = () => {\r\n  timerB();\r\n};\r\n\r\nfunction reset() {\r\n  totalTime = 0;\r\n  settings.style.display = 'unset';\r\n  app.style.display = 'none';\r\n  clearInterval(intervalA);\r\n  clearInterval(intervalB);\r\n  activePlayer = undefined;\r\n  times.a = 0;\r\n  times.b = 0;\r\n  result.style.display = 'none';\r\n  message.innerHTML = '';\r\n}\r\n\r\nhome.onclick = function () {\r\n  showConfirm('Are you sure you want to quit?', reset);\r\n};\r\n\r\nflag1.onclick = function () {\r\n  showConfirm('Are you sure you want to resign?', () => {\r\n    showMessage('🎉🎊 Player B WINS!! 🎊🎉');\r\n    setTimeout(reset, 5000);\r\n  });\r\n};\r\nflag2.onclick = function () {\r\n  showConfirm('Are you sure you want to resign?', () => {\r\n    showMessage('🎉🎊 Player A WINS!! 🎊🎉');\r\n    setTimeout(reset, 5000);\r\n  });\r\n};\r\n\r\nfunction playPause() {\r\n  if (paused === false) {\r\n    paused = true;\r\n    play.style.display = 'unset';\r\n    pause.style.display = 'none';\r\n    clearInterval(intervalA);\r\n    clearInterval(intervalB);\r\n  } else if (paused === true) {\r\n    play.style.display = 'none';\r\n    pause.style.display = 'unset';\r\n    paused = false;\r\n    if (activePlayer === 'a') {\r\n      activePlayer = 'b';\r\n      timerA();\r\n    } else if (activePlayer === 'b') {\r\n      activePlayer = 'a';\r\n      timerB();\r\n    }\r\n  }\r\n};\r\n\r\npause.onclick = playPause;\r\nplay.onclick = playPause;\r\n"
  },
  "stylesheets": [],
  "scripts": [],
  "cssPreset": "",
  "processors": [],
  "customSettings": {},
  "imports": {},
  "types": {},
  "tests": {
    "language": "typescript",
    "content": ""
  },
  "version": "10"
}